<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>canvas test</title>
</head>
<body>
	<canvas id="canvas" width="400" height="300">Fallback, sad browser</canvas>
	<img src="pika.png" id="scream" hidden>

<script>
	var canvas = document.getElementById("canvas");
	var ctx = canvas.getContext("2d");

	var x = 0;
	var y = 150;
		
	var direction = -1;
	var img = document.getElementById("scream");

	function getRColor() {
		return '#'+(Math.random()*0xFFFFFF<<0).toString(16);
	}

	function draw(x, y) {
		ctx.fillStyle = getRColor();
		ctx.fillRect(0, 0, canvas.width, canvas.height);

//		ctx.fillStyle = "#ffffff";
//        ctx.fillRect(x ,y ,Math.random()*50 ,Math.random()*50);

		ctx.drawImage(img,x ,y);
		
	}

	function go () {

		if (x >= canvas.width-10 || x <= 0)
			direction *= -1;

		x += direction;

		ctx.clearRect(0, 0, canvas.width, canvas.height);
		draw (x, y);
		requestAnimationFrame(go);
	}

	requestAnimationFrame(go);

</script>
</body>
</html>